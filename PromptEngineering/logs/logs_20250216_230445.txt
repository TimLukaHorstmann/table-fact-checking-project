2025-02-16 23:04:45,467 - INFO - Running on host/machine: ombrette.polytechnique.fr
2025-02-16 23:04:45,467 - INFO - Command used to run the script: prompt_engineering.py --repo_folder ../original_repo --csv_folder data/all_csv/ --dataset tokenized_data/test_examples.json --learning_type chain_of_thought --format_type markdown,naturalized,json,html --models llama3.2:latest,mistral:latest,phi4:latest --parallel_models --batch_prompts --max_workers 10
2025-02-16 23:04:45,527 - INFO - Loaded data from ../original_repo/tokenized_data/test_examples.json.
2025-02-16 23:04:45,526 - INFO - Loaded data from ../original_repo/tokenized_data/test_examples.json.
2025-02-16 23:04:45,527 - INFO - Loaded data from ../original_repo/tokenized_data/test_examples.json.
2025-02-16 23:04:45,527 - INFO - Loaded data from ../original_repo/tokenized_data/test_examples.json.
2025-02-16 23:04:45,531 - INFO - Loaded data from ../original_repo/tokenized_data/test_examples.json.
2025-02-16 23:04:45,531 - INFO - Loaded data from ../original_repo/tokenized_data/test_examples.json.
2025-02-16 23:04:45,531 - INFO - Loaded data from ../original_repo/tokenized_data/test_examples.json.
2025-02-16 23:04:45,531 - INFO - Loaded data from ../original_repo/tokenized_data/test_examples.json.
2025-02-16 23:04:45,531 - INFO - Loaded data from ../original_repo/tokenized_data/test_examples.json.
2025-02-16 23:04:45,531 - INFO - Loaded data from ../original_repo/tokenized_data/test_examples.json.
2025-02-16 23:04:45,531 - INFO - Loaded data from ../original_repo/tokenized_data/test_examples.json.
2025-02-16 23:04:45,531 - INFO - Loaded data from ../original_repo/tokenized_data/test_examples.json.
2025-02-16 23:04:45,595 - INFO - Ollama started successfully (or was already running).
2025-02-16 23:04:45,595 - INFO - Ollama started successfully (or was already running).
2025-02-16 23:04:45,596 - INFO - Ollama started successfully (or was already running).
2025-02-16 23:04:45,596 - INFO - Ollama started successfully (or was already running).
2025-02-16 23:04:45,596 - INFO - Processing 1232 tables in parallel (skipping 463 already checkpointed) out of 1232 remaining.
2025-02-16 23:04:45,597 - INFO - Processing 339 tables in parallel (skipping 1356 already checkpointed) out of 339 remaining.
2025-02-16 23:04:45,598 - INFO - Processing 0 tables in parallel (skipping 1695 already checkpointed) out of 0 remaining.
2025-02-16 23:04:45,598 - INFO - Processing 326 tables in parallel (skipping 1369 already checkpointed) out of 326 remaining.
2025-02-16 23:04:45,633 - INFO - Ollama started successfully (or was already running).
2025-02-16 23:04:45,634 - INFO - Ollama started successfully (or was already running).
2025-02-16 23:04:45,634 - INFO - Ollama started successfully (or was already running).
2025-02-16 23:04:45,634 - INFO - Ollama started successfully (or was already running).
2025-02-16 23:04:45,634 - INFO - Processing 335 tables in parallel (skipping 1360 already checkpointed) out of 335 remaining.
2025-02-16 23:04:45,635 - INFO - Processing 1229 tables in parallel (skipping 466 already checkpointed) out of 1229 remaining.
2025-02-16 23:04:45,636 - INFO - Processing 0 tables in parallel (skipping 1695 already checkpointed) out of 0 remaining.
2025-02-16 23:04:45,637 - INFO - Ollama started successfully (or was already running).
2025-02-16 23:04:45,637 - INFO - Ollama started successfully (or was already running).
2025-02-16 23:04:45,637 - INFO - Ollama started successfully (or was already running).
2025-02-16 23:04:45,638 - INFO - Processing 0 tables in parallel (skipping 1695 already checkpointed) out of 0 remaining.
2025-02-16 23:04:45,638 - INFO - Processing 1511 tables in parallel (skipping 184 already checkpointed) out of 1511 remaining.
2025-02-16 23:04:45,639 - INFO - Processing 315 tables in parallel (skipping 1380 already checkpointed) out of 315 remaining.
2025-02-16 23:04:45,641 - INFO - Ollama started successfully (or was already running).
2025-02-16 23:04:45,641 - INFO - Processing 0 tables in parallel (skipping 1695 already checkpointed) out of 0 remaining.
2025-02-16 23:04:45,642 - INFO - Processing 1245 tables in parallel (skipping 450 already checkpointed) out of 1245 remaining.
2025-02-16 23:04:48,412 - INFO - Results saved to results_20250216/results_prompt_engineering_test_examples_chain_of_thought_naturalized_mistral:latest.json
2025-02-16 23:04:48,655 - INFO - Results saved to results_20250216/results_prompt_engineering_test_examples_chain_of_thought_markdown_mistral:latest.json
2025-02-16 23:04:48,722 - INFO - Results saved to results_20250216/results_prompt_engineering_test_examples_chain_of_thought_json_mistral:latest.json
2025-02-16 23:04:48,878 - INFO - Results saved to results_20250216/results_prompt_engineering_test_examples_chain_of_thought_html_mistral:latest.json
2025-02-16 23:04:49,089 - INFO - Wrote results to ../docs/results/results_with_cells_mistral:latest_test_examples_all_chain_of_thought_naturalized.json
2025-02-16 23:04:49,167 - INFO - Saving metrics to directory: results_20250216/plots_prompt_engineering_test_examples_chain_of_thought_naturalized_mistral:latest
2025-02-16 23:04:49,551 - INFO - Wrote results to ../docs/results/results_with_cells_mistral:latest_test_examples_all_chain_of_thought_markdown.json
2025-02-16 23:04:49,662 - INFO - Saving metrics to directory: results_20250216/plots_prompt_engineering_test_examples_chain_of_thought_markdown_mistral:latest
2025-02-16 23:04:49,734 - INFO - Wrote results to ../docs/results/results_with_cells_mistral:latest_test_examples_all_chain_of_thought_json.json
2025-02-16 23:04:49,818 - INFO - Wrote results to ../docs/results/results_with_cells_mistral:latest_test_examples_all_chain_of_thought_html.json
2025-02-16 23:04:49,818 - INFO - Saving metrics to directory: results_20250216/plots_prompt_engineering_test_examples_chain_of_thought_json_mistral:latest
2025-02-16 23:04:49,823 - INFO - Saving metrics to directory: results_20250216/plots_prompt_engineering_test_examples_chain_of_thought_html_mistral:latest
2025-02-16 23:04:50,191 - INFO - Saved summary statistics to results_20250216/plots_prompt_engineering_test_examples_chain_of_thought_markdown_mistral:latest/summary_stats.json.
2025-02-16 23:04:50,191 - INFO - Metrics:
Precision: 0.60
Recall: 0.79
F1 Score: 0.69
Accuracy: 0.63
2025-02-16 23:04:50,321 - INFO - Saved summary statistics to results_20250216/plots_prompt_engineering_test_examples_chain_of_thought_json_mistral:latest/summary_stats.json.
2025-02-16 23:04:50,321 - INFO - Metrics:
Precision: 0.59
Recall: 0.75
F1 Score: 0.66
Accuracy: 0.61
2025-02-16 23:04:50,366 - INFO - Saved summary statistics to results_20250216/plots_prompt_engineering_test_examples_chain_of_thought_html_mistral:latest/summary_stats.json.
2025-02-16 23:04:50,366 - INFO - Metrics:
Precision: 0.60
Recall: 0.77
F1 Score: 0.67
Accuracy: 0.62
2025-02-16 23:04:50,378 - INFO - Saved summary statistics to results_20250216/plots_prompt_engineering_test_examples_chain_of_thought_naturalized_mistral:latest/summary_stats.json.
2025-02-16 23:04:50,378 - INFO - Metrics:
Precision: 0.61
Recall: 0.79
F1 Score: 0.69
Accuracy: 0.64
2025-02-16 23:04:52,555 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:04:54,504 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:04:55,162 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:04:55,164 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:04:55,166 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:04:55,363 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:04:55,365 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:04:55,366 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:05:08,170 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:05:08,537 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:05:09,481 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:05:10,592 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:05:14,732 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:05:17,734 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:05:19,761 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:05:22,791 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:05:24,995 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:05:27,243 - WARNING - [WARN] JSON decode error: Expecting ':' delimiter: line 3 column 46 (char 73)
2025-02-16 23:05:27,243 - WARNING - Attempting fallback parsing on: {
    "chain_of_thought": {
        "Step 1: Counting process initiated.",
        "Step 2: Iterating through each row in the data array and checking if transfer window is summer.",
        "Step 3: Increment counter for every occurrence of summer in the transfer window column."
    },
    "answer": true,
    "relevant_cells": [
        {"row_index": 0, "column_name": "transfer window"},
        {"row_index": 1, "column_name": "transfer window"},
        {"row_index": 2, "column_name": "transfer window"},
        {"row_index": 3, "column_name": "transfer window"},
        {"row_index": 4, "column_name": "transfer window"},
        {"row_index": 5, "column_name": "transfer window"},
        {"row_index": 6, "column_name": "transfer window"},
        {"row_index": 7, "column_name": "transfer window"},
        {"row_index": 8, "column_name": "transfer window"}
    ]
}
2025-02-16 23:05:27,407 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:05:28,241 - WARNING - [WARN] JSON decode error: Expecting value: line 10 column 5 (char 132)
2025-02-16 23:05:28,242 - WARNING - Attempting fallback parsing on: [
    {
        "row_index": 0,
        "column_name": ""
    },
    {
        "row_index": 1,
        "column_name": ""
    },
    ...
    {
        "row_index": 38,
        "column_name": "lap"
    }
]
2025-02-16 23:05:29,135 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:05:31,072 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:05:35,930 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-02-16 23:05:42,520 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
